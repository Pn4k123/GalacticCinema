name: ğŸš€ Deploy to Somee

on:
  push:
    branches:
      - master   # Cháº¡y khi push lÃªn nhÃ¡nh main (báº¡n cÃ³ thá»ƒ Ä‘á»•i sang nhÃ¡nh khÃ¡c)

jobs:
  deploy:
    runs-on: ubuntu-latest

    steps:
      - name: ğŸ§© Checkout source code
        uses: actions/checkout@v4

      - name: âš™ï¸ Setup .NET SDK
        uses: actions/setup-dotnet@v4
        with:
          dotnet-version: '9.0.x'

      # 3ï¸âƒ£ Build vÃ  publish project
      - name: ğŸ—ï¸ Build and Publish
        run: |
          dotnet restore
          dotnet build --configuration Release
          dotnet publish --configuration Release --output ./publish

      - name: ğŸ“¤ Deploy via FTP to Somee
        uses: SamKirkland/FTP-Deploy-Action@v4.3.4
        with:
          server: GalacticCinema.somee.com       # FTP host cá»§a báº¡n
          username: Khuong          # TÃªn Ä‘Äƒng nháº­p FTP (Ä‘áº·t trong GitHub Secrets)
          password: K.khuong1470          # Máº­t kháº©u FTP (Ä‘áº·t trong GitHub Secrets)
          server-dir: www.GalacticCinema.somee.com/   # ThÆ° má»¥c chá»©a web trÃªn Somee
          local-dir: ./publish/                                 # ThÆ° má»¥c chá»©a file HTML cáº§n upload
          dangerous-clean-slate: false                   # KhÃ´ng xoÃ¡ toÃ n bá»™ file cÅ© (Ä‘á»ƒ an toÃ n)
